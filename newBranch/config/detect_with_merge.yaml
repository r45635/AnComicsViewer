# detection & post-filters
panel_conf: 0.05                      # INCREASED from 0.01 to reduce false positives
panel_area_min_pct: 0.0005            # ULTRA-LOW (0.05% of page)
balloon_conf: 0.01                    # ULTRA-LOW for maximum detection
balloon_area_min_pct: 0.0001          # LOWERED (0.01% of page)
balloon_min_w: 10                     # LOWERED for narrow balloons
balloon_min_h: 8                      # LOWERED for short balloons
max_balloons: 20                      # INCREASED for more balloons
max_panels: 30                        # INCREASED for more panels
max_det: 600                          # INCREASED for more detections

# merging & post-processing
panel_merge_iou: 0.4                  # LESS AGGRESSIVE merging
panel_merge_dist: 0.05                # LESS AGGRESSIVE merging
panel_containment_merge: 0.85         # LESS AGGRESSIVE containment
enable_panel_merge: true              # ENABLED for proper panel merging
panel_row_overlap: 0.5                # LESS AGGRESSIVE row merging
panel_row_gap_pct: 0.05               # LESS AGGRESSIVE row merging
enable_row_merge: true                # ENABLED for row-based merging
iou_merge: 0.4                        # LESS AGGRESSIVE general merging

# full-page detection
full_page_panel_pct: 0.93             # threshold for detecting full-page panels
full_page_keep_balloons: true
full_page_balloon_overlap_pct: 0.12   # minimum overlap to keep balloons with full-page panels

# detection scale/tiling
imgsz_max: 4096                       # ULTRA-HIGH RESOLUTION for maximum detection
tile_target: 1536                     # INCREASED for less tiling
tile_overlap: 0.25                    # INCREASED for better coverage
force_tiling: false
page_margin_inset_pct: 0.01           # REDUCED for processing more of page

# gutter splitting parameters
gutter_split_enable: false            # DISABLED for debugging
gutter_min_gap_px: 6
gutter_min_contrast: 20
gutter_min_coverage: 0.75
gutter_dir: "both"   # or "h" or "v"
